/
├── .github/
│   └── workflows/
├── .hypothesis/
│   └── unicode_data/
│       └── 15.0.0/
├── .mypy_cache/
├── api/
│   ├── endpoints/
│   │   ├── answer.py (472.0 B)
│   │   ├── block.py (1019.0 B)
│   │   │   function get_problem_data: Returns problem data for frontend rendering.
│   │   ├── health.py (4.7 KB)
│   │   │   module __main__: Health check endpoint for monitoring application status.
│   │   │   function health_check: Health check endpoint that returns the status of all dependencies.  Returns:     JSON response wi...
│   │   │   function browser_resources_health: Health check endpoint for browser resources. Returns metrics and status of browser resource pool.
│   │   ├── plan.py (471.0 B)
│   │   │   function generate_study_plan: API endpoint to generate a study plan (stub).  This is a placeholder for future adaptive study pl...
│   │   ├── quiz.py (643.0 B)
│   │   │   function start_daily_quiz: API endpoint to start a new daily quiz.  This endpoint takes a subject/page name and returns a li...
│   │   └── subjects.py (1.6 KB)
│   │       function get_available_subjects: API endpoint to get a list of available subjects. The list reflects subjects present in the datab...
│   │       function get_random_problems: Returns `count` random problem IDs for the given subject.
│   ├── middleware/
│   │   └── logging_middleware.py (3.7 KB)
│   │       module __main__: Middleware for adding structured logging and trace ID to requests.
│   │       class LoggingMiddleware: Middleware to add trace ID and structured logging to each request.
│   │       method LoggingMiddleware.__init__: Initialize the middleware.  Args:     app: FastAPI application instance     observability_service...
│   │       method LoggingMiddleware.dispatch: Process the request and add structured logging.  Args:     request: FastAPI request object     ca...
│   │       function __init__: Initialize the middleware.  Args:     app: FastAPI application instance     observability_service...
│   │       function dispatch: Process the request and add structured logging.  Args:     request: FastAPI request object     ca...
│   ├── app.py (6.0 KB)
│   │   function lifespan: Lifespan event handler for the FastAPI application.  Initializes and manages the shared BrowserPo...
│   │   function create_app: Creates and configures the FastAPI application instance.  Sets up CORS, exception handlers, lifes...
│   │   function http_exception_handler: Handles HTTP exceptions globally.
│   │   function domain_exception_handler: Handles domain exceptions globally.
│   │   function global_exception_handler: Handles unhandled exceptions globally.
│   │   function root: Health check endpoint.
│   ├── dependencies.py (9.2 KB)
│   │   function get_db_manager: Dependency to provide an instance of DatabaseAdapter.  Returns:     DatabaseAdapter: An instance ...
│   │   function get_qdrant_client: Dependency to provide an instance of QdrantClient.  Returns:     QdrantClient: An instance of the...
│   │   function get_problem_retriever: Dependency to provide an instance of QdrantRetrieverAdapter.  Args:     qdrant_client: The Qdrant...
│   │   function get_spec_service: Dependency to provide an instance of SpecificationAdapter.  Args:     subject: The subject name (...
│   │   function get_skill_graph: Dependency to provide an instance of InMemorySkillGraph.  Args:     db: The database manager inst...
│   │   function get_storage: Dependency to provide an instance of LocalStorageAdapter or None.  Returns:     LocalStorageAdapt...
│   │   function get_browser_manager: Dependency to provide the shared BrowserManager instance.  Args:     request: The incoming reques...
│   │   function get_answer_checker: Dependency to provide an instance of FIPIAnswerCheckerAdapter.  Args:     browser_manager: The sh...
│   │   function get_answer_service: Dependency to provide an instance of AnswerService.  Args:     db: The database manager instance....
│   │   function get_quiz_service: Dependency to provide an instance of QuizService.  Args:     db: The database manager instance.  ...
│   │   function get_browser_pool_manager: Dependency to provide the shared BrowserPoolManager instance.  Args:     request: The incoming re...
│   └── schemas.py (2.8 KB)
│       class StartQuizRequest: Schema for requesting the start of a new quiz.  Attributes:     page_name: The subject or page id...
│       class CheckAnswerRequest: Schema for requesting answer validation.  Attributes:     problem_id: Unique identifier of the pr...
│       class GeneratePlanRequest: Schema for requesting the generation of a study plan. Currently empty, can be extended with param...
│       class Feedback: Pedagogical feedback based on FIPI specifications.
│       class QuizItem: Schema representing a single item within a quiz.
│       class StartQuizResponse: Schema for the response to a quiz start request.
│       class CheckAnswerResponse: Schema for the response to an answer check request.
│       class GeneratePlanResponse: Schema for the response to a study plan generation request.
│       class AvailableSubjectsResponse: Schema for the response listing available subjects.
│       class ProblemResponse: Schema representing a problem for API responses.
│       class GetBlockResponse: Schema representing a response containing a single problem block.
├── application/
│   ├── interfaces/
│   │   └── __init__.py (226.0 B)
│   │       module __main__: Application layer interfaces for use case coordination.  This module contains interfaces for appl...
│   ├── repositories/
│   │   ├── __init__.py (825.0 B)
│   │   │   module __main__: Application layer repository interfaces and implementations.  This module provides repository imp...
│   │   ├── problem_repository_impl.py (3.5 KB)
│   │   │   module __main__: Implementation of problem repository interface using infrastructure adapters.  This repository im...
│   │   │   class ProblemRepositoryImpl: Concrete implementation of IProblemRepository using database infrastructure.  This class adapts d...
│   │   │   method ProblemRepositoryImpl.__init__: Initialize the problem repository implementation.  Args:     db_adapter: Infrastructure adapter f...
│   │   │   method ProblemRepositoryImpl.save: Save a problem domain entity to the database.  This method converts the domain entity to a databa...
│   │   │   method ProblemRepositoryImpl.get_by_id: Retrieve a problem by its ID.  Args:     problem_id: The unique identifier of the problem  Return...
│   │   │   method ProblemRepositoryImpl.get_by_subject: Retrieve all problems for a given subject.  Args:     subject: The subject area to filter problem...
│   │   │   method ProblemRepositoryImpl.get_by_exam_part: Retrieve all problems for a given exam part.  Args:     exam_part: The exam part to filter proble...
│   │   │   method ProblemRepositoryImpl.get_by_difficulty: Retrieve all problems for a given difficulty level.  Args:     difficulty: The difficulty level t...
│   │   │   function __init__: Initialize the problem repository implementation.  Args:     db_adapter: Infrastructure adapter f...
│   │   │   function save: Save a problem domain entity to the database.  This method converts the domain entity to a databa...
│   │   │   function get_by_id: Retrieve a problem by its ID.  Args:     problem_id: The unique identifier of the problem  Return...
│   │   │   function get_by_subject: Retrieve all problems for a given subject.  Args:     subject: The subject area to filter problem...
│   │   │   function get_by_exam_part: Retrieve all problems for a given exam part.  Args:     exam_part: The exam part to filter proble...
│   │   │   function get_by_difficulty: Retrieve all problems for a given difficulty level.  Args:     difficulty: The difficulty level t...
│   │   ├── skill_repository_impl.py (2.2 KB)
│   │   │   module __main__: Implementation of skill repository interface using infrastructure adapters.  This repository impl...
│   │   │   class SkillRepositoryImpl: Concrete implementation of ISkillRepository using database infrastructure.  This class adapts dom...
│   │   │   method SkillRepositoryImpl.__init__: Initialize the skill repository implementation.  Args:     db_adapter: Infrastructure adapter for...
│   │   │   method SkillRepositoryImpl.get_by_id: Retrieve a skill by its ID.  Args:     skill_id: The unique identifier of the skill  Returns:    ...
│   │   │   method SkillRepositoryImpl.get_all: Retrieve all skills.  Returns:     List of all skill domain entities
│   │   │   method SkillRepositoryImpl.get_by_problem_id: Retrieve all skills associated with a specific problem.  Args:     problem_id: The problem identi...
│   │   │   function __init__: Initialize the skill repository implementation.  Args:     db_adapter: Infrastructure adapter for...
│   │   │   function get_by_id: Retrieve a skill by its ID.  Args:     skill_id: The unique identifier of the skill  Returns:    ...
│   │   │   function get_all: Retrieve all skills.  Returns:     List of all skill domain entities
│   │   │   function get_by_problem_id: Retrieve all skills associated with a specific problem.  Args:     problem_id: The problem identi...
│   │   └── user_progress_repository_impl.py (3.0 KB)
│   │       module __main__: Implementation of user progress repository interface using infrastructure adapters.  This reposit...
│   │       class UserProgressRepositoryImpl: Concrete implementation of IUserProgressRepository using database infrastructure.  This class ada...
│   │       method UserProgressRepositoryImpl.__init__: Initialize the user progress repository implementation.  Args:     db_adapter: Infrastructure ada...
│   │       method UserProgressRepositoryImpl.save: Save a user progress domain entity to the database.  This method converts the domain entity to a ...
│   │       method UserProgressRepositoryImpl.get_by_user_and_problem: Retrieve user progress for a specific problem.  Args:     user_id: The user identifier     proble...
│   │       method UserProgressRepositoryImpl.get_by_user: Retrieve all progress records for a user.  Args:     user_id: The user identifier  Returns:     L...
│   │       method UserProgressRepositoryImpl.get_completed_by_user: Retrieve all completed progress records for a user.  Args:     user_id: The user identifier  Retu...
│   │       function __init__: Initialize the user progress repository implementation.  Args:     db_adapter: Infrastructure ada...
│   │       function save: Save a user progress domain entity to the database.  This method converts the domain entity to a ...
│   │       function get_by_user_and_problem: Retrieve user progress for a specific problem.  Args:     user_id: The user identifier     proble...
│   │       function get_by_user: Retrieve all progress records for a user.  Args:     user_id: The user identifier  Returns:     L...
│   │       function get_completed_by_user: Retrieve all completed progress records for a user.  Args:     user_id: The user identifier  Retu...
│   └── services/
│       ├── html_processing_service.py (2.5 KB)
│       │   class HTMLProcessingService: Application service for HTML processing operations.
│       │   method HTMLProcessingService.process_html_block_to_problem: Process HTML block and convert to Problem instance.  Args:     header_container: The BeautifulSou...
│       │   function process_html_block_to_problem: Process HTML block and convert to Problem instance.  Args:     header_container: The BeautifulSou...
│       ├── page_scraping_service.py (9.1 KB)
│       │   module __main__: Application service for scraping a single page of problems. Implements the use case: ScrapePageFo...
│       │   method PageScrapingService.scrape_page: Application use case: scrape a single page of problems.  Args:     proj_id (str): Project ID for ...
│       │   method PageScrapingService._create_asset_downloader: Create an asset downloader instance.
│       │   method PageScrapingService._get_page_with_retry: Get a page with retry logic for network errors.
│       │   method PageScrapingService._create_problem_from_result: Create Pydantic Problem instance from processing result.
│       │   function scrape_page: Application use case: scrape a single page of problems.  Args:     proj_id (str): Project ID for ...
│       │   function _create_asset_downloader: Create an asset downloader instance.
│       │   function _get_page_with_retry: Get a page with retry logic for network errors.
│       │   function _create_problem_from_result: Create Pydantic Problem instance from processing result.
│       ├── quiz_service.py (7.3 KB)
│       │   module __main__: Application service implementing quiz-related use cases with adaptive learning logic.  This servi...
│       │   class QuizApplicationService: Application service coordinating quiz-related business operations.  This service implements use c...
│       │   method QuizApplicationService.__init__: Initialize the quiz application service.  Args:     problem_repo: Repository for accessing proble...
│       │   method QuizApplicationService.start_quiz: Start a new quiz session by selecting appropriate problems for the user.  This method implements ...
│       │   method QuizApplicationService._adaptive_problem_selection: Select problems adaptively based on user's skill profile and progress.  This method uses the skil...
│       │   method QuizApplicationService.record_attempt: Record a user's attempt at solving a problem and update their progress.  This method validates th...
│       │   method QuizApplicationService.get_user_progress_summary: Get a summary of user's progress across all subjects and skills.  This method aggregates user pro...
│       │   function __init__: Initialize the quiz application service.  Args:     problem_repo: Repository for accessing proble...
│       │   function start_quiz: Start a new quiz session by selecting appropriate problems for the user.  This method implements ...
│       │   function _adaptive_problem_selection: Select problems adaptively based on user's skill profile and progress.  This method uses the skil...
│       │   function record_attempt: Record a user's attempt at solving a problem and update their progress.  This method validates th...
│       │   function get_user_progress_summary: Get a summary of user's progress across all subjects and skills.  This method aggregates user pro...
│       └── task_processing_service.py (1.6 KB)
│           class TaskClassificationResult: Result of task classification.
│           class TaskProcessingService: Application service for task processing operations.
│           method TaskProcessingService.process_task_classification: Process task classification using domain interfaces.  Args:     kes_codes: List of KES codes     ...
│           function process_task_classification: Process task classification using domain interfaces.  Args:     kes_codes: List of KES codes     ...
├── config/
│   └── task_number_rules.json (237.0 B)
├── data/
├── docs/
│   ├── adr/
│   ├── api/
│   ├── architecture/
│   ├── data/
│   └── drafts/
├── domain/
│   ├── exceptions/
│   │   ├── base.py (1.0 KB)
│   │   │   module __main__: Base exceptions for the domain layer.
│   │   │   class BaseDomainException: Base exception for all domain-related exceptions.
│   │   │   method BaseDomainException.__init__: Initialize the exception.  Args:     message: Human-readable error message     error_code: Machin...
│   │   │   method BaseDomainException.to_dict: Convert the exception to a dictionary for structured logging.
│   │   │   function __init__: Initialize the exception.  Args:     message: Human-readable error message     error_code: Machin...
│   │   │   function to_dict: Convert the exception to a dictionary for structured logging.
│   │   ├── business.py (1.1 KB)
│   │   │   module __main__: Business logic exceptions for the domain layer.
│   │   │   class BusinessRuleException: Raised when a business rule is violated.
│   │   │   class ValidationException: Raised when input validation fails.
│   │   │   class ResourceNotFoundException: Raised when a requested resource is not found.
│   │   └── infrastructure.py (1.3 KB)
│   │       module __main__: Infrastructure-related exceptions for the domain layer.
│   │       class InfrastructureException: Raised when an infrastructure-related error occurs.
│   │       class ExternalServiceException: Raised when an external service call fails.
│   │       class ResourceUnavailableException: Raised when a required resource is temporarily unavailable.
│   ├── interfaces/
│   │   ├── core/
│   │   │   └── __init__.py (323.0 B)
│   │   ├── __init__.py (200.0 B)
│   │   ├── html_processor.py (891.0 B)
│   │   │   class IHTMLProcessor: Domain interface for HTML processing operations.
│   │   │   method IHTMLProcessor.process_html_block: Process a single HTML block pair and return structured data.
│   │   │   class ITaskClassifier: Domain interface for task classification operations.
│   │   │   method ITaskClassifier.classify_task: Classify a task based on KES/KOS codes and return classification result.
│   │   │   function process_html_block: Process a single HTML block pair and return structured data.
│   │   │   function classify_task: Classify a task based on KES/KOS codes and return classification result.
│   │   ├── infrastructure_adapters.py (2.2 KB)
│   │   │   class ICacheProvider: Interface for cache operations
│   │   │   class IExternalChecker: Interface for external answer checking services
│   │   │   class IStorageProvider: Interface for local storage operations
│   │   │   class IDatabaseProvider: Interface for database operations
│   │   │   method IDatabaseProvider.get_all_subjects: Get all available subjects from the database.
│   │   │   method IDatabaseProvider.get_random_problem_ids: Get random problem IDs for a given subject.
│   │   │   class IProblemRetriever: Interface for problem retrieval operations
│   │   │   function get_all_subjects: Get all available subjects from the database.
│   │   │   function get_random_problem_ids: Get random problem IDs for a given subject.
│   │   ├── metadata_parser.py (398.0 B)
│   │   ├── repositories.py (1.5 KB)
│   │   ├── specification_provider.py (898.0 B)
│   │   │   class ISpecificationProvider: Domain interface for specification data access.
│   │   │   method ISpecificationProvider.get_task_spec: Get official task specification by number (1–19).
│   │   │   method ISpecificationProvider.explain_kos: Return human-readable KOS description.
│   │   │   method ISpecificationProvider.explain_kes: Return human-readable KES description.
│   │   │   method ISpecificationProvider.get_feedback_for_task: Generate pedagogical feedback for a given task number. Returns structured feedback including KOS ...
│   │   │   function get_task_spec: Get official task specification by number (1–19).
│   │   │   function explain_kos: Return human-readable KOS description.
│   │   │   function explain_kes: Return human-readable KES description.
│   │   │   function get_feedback_for_task: Generate pedagogical feedback for a given task number. Returns structured feedback including KOS ...
│   │   └── task_inferer.py (368.0 B)
│   │       class ITaskNumberInferer: Domain interface for task number inference operations.
│   │       method ITaskNumberInferer.infer: Infer the official ЕГЭ task number from KES codes and answer type.
│   │       function infer: Infer the official ЕГЭ task number from KES codes and answer type.
│   ├── models/
│   │   ├── __init__.py (340.0 B)
│   │   ├── answer_schema.py (533.0 B)
│   │   │   class UserAnswer: Represents a user's answer to a problem.
│   │   │   class AnswerCheckResult: Represents the result of checking a user's answer.
│   │   ├── database_models.py (4.4 KB)
│   │   │   module __main__: SQLAlchemy ORM-модели для хранения задач, пользовательских ответов и прогресса.  Соответствуют об...
│   │   │   class DBProblem: ORM-модель задачи из ЕГЭ.  Соответствует обновлённой доменной модели `Problem`.
│   │   │   class DBAnswer: ORM-модель пользовательского ответа на задачу.
│   │   │   class DBUserProgress: ORM-модель прогресса пользователя по задаче.
│   │   │   class DBSkill: ORM-модель навыка для адаптивного обучения.
│   │   ├── problem.py (7.9 KB)
│   │   │   module __main__: Domain model representing an EGE problem with business logic and invariants.  This is the core do...
│   │   │   class Problem: Domain model representing an EGE problem with business logic.  This class contains business rules...
│   │   │   method Problem.__post_init__: Validate the problem after initialization and set default values.
│   │   │   method Problem._validate: Validate business rules and invariants for the problem.
│   │   │   method Problem.is_answer_type_valid: Check if the answer type matches the expected type for this problem.  Args:     answer: The answe...
│   │   │   method Problem.calculate_score: Calculate the score for a user's answer based on the problem's answer key.  This is a simplified ...
│   │   │   method Problem.can_retry: Check if the problem can be attempted again.  Returns:     True if the problem can be retried, Fa...
│   │   │   method Problem.get_required_skills: Get the list of required skills for solving this problem.  Returns:     List of skill identifiers...
│   │   │   method Problem.is_published: Check if the problem is in published status.  Returns:     True if the problem is published, Fals...
│   │   │   method Problem.mark_archived: Mark the problem as archived, preventing further use in quizzes.
│   │   │   function __post_init__: Validate the problem after initialization and set default values.
│   │   │   function _validate: Validate business rules and invariants for the problem.
│   │   │   function is_answer_type_valid: Check if the answer type matches the expected type for this problem.  Args:     answer: The answe...
│   │   │   function calculate_score: Calculate the score for a user's answer based on the problem's answer key.  This is a simplified ...
│   │   │   function can_retry: Check if the problem can be attempted again.  Returns:     True if the problem can be retried, Fa...
│   │   │   function get_required_skills: Get the list of required skills for solving this problem.  Returns:     List of skill identifiers...
│   │   │   function is_published: Check if the problem is in published status.  Returns:     True if the problem is published, Fals...
│   │   │   function mark_archived: Mark the problem as archived, preventing further use in quizzes.
│   │   ├── problem_builder.py (2.9 KB)
│   │   │   module __main__: Module for building Problem instances from extracted data.  This module provides the `ProblemBuil...
│   │   │   class ProblemBuilder: A class responsible for constructing Problem instances from raw data.
│   │   │   method ProblemBuilder.build: Builds a Problem instance from extracted data.  Args:     problem_id: Unique identifier for the p...
│   │   │   function build: Builds a Problem instance from extracted data.  Args:     problem_id: Unique identifier for the p...
│   │   ├── problem_schema.py (2.9 KB)
│   │   │   module __main__: Pydantic model representing an EGE problem scraped from the FIPI website. Contains all necessary ...
│   │   │   class Problem: Model representing an EGE problem.  Attributes:     problem_id (str): Unique problem identifier, ...
│   │   ├── skill.py (912.0 B)
│   │   │   method Skill.is_prerequisite_satisfied_by: Проверяет, удовлетворены ли все предварительные навыки пользователем.
│   │   │   function is_prerequisite_satisfied_by: Проверяет, удовлетворены ли все предварительные навыки пользователем.
│   │   └── user_progress.py (1.7 KB)
│   │       method UserProgress.record_attempt: Обновляет прогресс на основе попытки.
│   │       method UserProgress.can_retry: Проверяет, может ли пользователь повторить попытку.
│   │       function record_attempt: Обновляет прогресс на основе попытки.
│   │       function can_retry: Проверяет, может ли пользователь повторить попытку.
│   ├── services/
│   │   ├── alert_service.py (3.9 KB)
│   │   │   module __main__: Service for centralized alerting on critical errors.
│   │   │   class AlertService: Centralized service for sending alerts on critical errors.
│   │   │   method AlertService.__init__: Initialize the alert service.
│   │   │   method AlertService.send_alert: Send an alert about a critical issue.  Args:     alert_type: Type of alert (e.g., "database_failu...
│   │   │   method AlertService.alert_on_exception: Send an alert when an exception occurs.  Args:     exc: Exception that occurred     context: Addi...
│   │   │   method AlertService.alert_resource_unavailable: Send an alert when a resource becomes unavailable.  Args:     resource_name: Name of the unavaila...
│   │   │   method AlertService.alert_external_service_failure: Send an alert when an external service fails.  Args:     service_name: Name of the failing extern...
│   │   │   function __init__: Initialize the alert service.
│   │   │   function send_alert: Send an alert about a critical issue.  Args:     alert_type: Type of alert (e.g., "database_failu...
│   │   │   function alert_on_exception: Send an alert when an exception occurs.  Args:     exc: Exception that occurred     context: Addi...
│   │   │   function alert_resource_unavailable: Send an alert when a resource becomes unavailable.  Args:     resource_name: Name of the unavaila...
│   │   │   function alert_external_service_failure: Send an alert when an external service fails.  Args:     service_name: Name of the failing extern...
│   │   ├── answer_type_detector.py (1.4 KB)
│   │   │   module __main__: Domain service for detecting answer types from HTML content.
│   │   │   class AnswerTypeService: Service for detecting answer types from HTML content.
│   │   │   method AnswerTypeService.detect_answer_type: Detect the type of answer expected based on HTML content.  Args:     html_content: HTML content o...
│   │   │   function detect_answer_type: Detect the type of answer expected based on HTML content.  Args:     html_content: HTML content o...
│   │   ├── metadata_enhancer.py (2.0 KB)
│   │   │   module __main__: Domain service for enhancing metadata using specification data.
│   │   │   class MetadataExtractionService: Service for enhancing extracted metadata with specification data.
│   │   │   method MetadataExtractionService.__init__: Initialize the service.  Args:     specification_provider: ISpecificationProvider implementation ...
│   │   │   method MetadataExtractionService.enhance_metadata: Enhance extracted metadata with additional information from specifications.  Args:     extracted_...
│   │   │   function __init__: Initialize the service.  Args:     specification_provider: ISpecificationProvider implementation ...
│   │   │   function enhance_metadata: Enhance extracted metadata with additional information from specifications.  Args:     extracted_...
│   │   └── observability_service.py (6.9 KB)
│   │       module __main__: Service for centralized observability (logging, metrics, tracing).
│   │       class ObservabilityService: Centralized service for logging, metrics, and tracing.
│   │       method ObservabilityService.__init__: Initialize the observability service.
│   │       method ObservabilityService.log_info: Log an informational message.  Args:     message: Log message     context: Additional context to ...
│   │       method ObservabilityService.log_error: Log an error message.  Args:     message: Error message     exception: Exception object if loggin...
│   │       method ObservabilityService.log_warning: Log a warning message.  Args:     message: Warning message     context: Additional context to inc...
│   │       method ObservabilityService.log_metric: Log a metric (stub implementation - in real system would send to metrics backend).  Args:     nam...
│   │       method ObservabilityService.generate_trace_id: Generate a unique trace ID.  Returns:     Unique trace ID string
│   │       method ObservabilityService.log_request: Log a complete request-response cycle.  Args:     request: FastAPI request object     response: F...
│   │       function __init__: Initialize the observability service.
│   │       function log_info: Log an informational message.  Args:     message: Log message     context: Additional context to ...
│   │       function log_error: Log an error message.  Args:     message: Error message     exception: Exception object if loggin...
│   │       function log_warning: Log a warning message.  Args:     message: Warning message     context: Additional context to inc...
│   │       function log_metric: Log a metric (stub implementation - in real system would send to metrics backend).  Args:     nam...
│   │       function generate_trace_id: Generate a unique trace ID.  Returns:     Unique trace ID string
│   │       function log_request: Log a complete request-response cycle.  Args:     request: FastAPI request object     response: F...
│   └── value_objects/
│       ├── __init__.py (192.0 B)
│       ├── difficulty_level.py (1009.0 B)
│       ├── problem_id.py (614.0 B)
│       ├── problem_status.py (2.7 KB)
│       │   module __main__: Value object for problem status in the EGE domain.  This module defines the ProblemStatus value o...
│       │   class ProblemStatusEnum: Enumeration of possible problem statuses in the EGE system.  These statuses reflect the lifecycle...
│       │   class ProblemStatus: Value object representing the status of a problem in the EGE domain.  This value object encapsula...
│       │   method ProblemStatus.__init__: Initialize the ProblemStatus value object.  Args:     value: The status value from ProblemStatusE...
│       │   method ProblemStatus.value: Get the status value.  Returns:     ProblemStatusEnum: The status value.
│       │   method ProblemStatus.__str__: Get string representation of the status.  Returns:     str: String representation of the status v...
│       │   method ProblemStatus.__repr__: Get detailed string representation of the status.  Returns:     str: Detailed string representation.
│       │   method ProblemStatus.__eq__: Check equality with another object.  Args:     other: Another object to compare with.      Return...
│       │   method ProblemStatus.__hash__: Get hash value for the status.  Returns:     int: Hash value.
│       │   function __init__: Initialize the ProblemStatus value object.  Args:     value: The status value from ProblemStatusE...
│       │   function value: Get the status value.  Returns:     ProblemStatusEnum: The status value.
│       │   function __str__: Get string representation of the status.  Returns:     str: String representation of the status v...
│       │   function __repr__: Get detailed string representation of the status.  Returns:     str: Detailed string representation.
│       │   function __eq__: Check equality with another object.  Args:     other: Another object to compare with.      Return...
│       │   function __hash__: Get hash value for the status.  Returns:     int: Hash value.
│       └── problem_type.py (776.0 B)
├── frontend/
│   ├── dev-dist/
│   │   ├── registerSW.js (119.0 B)
│   │   ├── sw.js (3.0 KB)
│   │   └── workbox-e7681877.js (169.4 KB)
│   ├── dist/
│   │   ├── assets/
│   │   │   └── index-adebf5ee.js (170.1 KB)
│   │   ├── blocks/
│   │   │   └── math/
│   │   ├── manifest.json (385.0 B)
│   │   ├── registerSW.js (134.0 B)
│   │   ├── sw.js (78.0 KB)
│   │   └── workbox-1ea6f077.js (21.5 KB)
│   ├── node_modules/
│   ├── public/
│   │   ├── blocks/
│   │   │   └── math/
│   │   └── manifest.json (385.0 B)
│   ├── src/
│   │   ├── components/
│   │   ├── pages/
│   │   └── types/
│   │       └── index.ts (320.0 B)
│   ├── package-lock.json (241.0 KB)
│   ├── package.json (808.0 B)
│   ├── tsconfig.json (486.0 B)
│   └── vite.config.ts (2.1 KB)
├── infrastructure/
│   └── adapters/
│       ├── answer_checker_adapter.py (3.9 KB)
│       │   module __main__: Infrastructure adapter for checking answers against the official FIPI answer service.
│       │   class FIPIAnswerCheckerAdapterAdapter: A class to check answers against the official FIPI service.  This class handles the browser autom...
│       │   method FIPIAnswerCheckerAdapterAdapter.__init__: Initializes the answer checker with a browser manager.  Args:     browser_pool: BrowserPoolManage...
│       │   method FIPIAnswerCheckerAdapterAdapter.check_answer: Check the user's answer against the official FIPI answer.  Args:     task_id: The ID of the task ...
│       │   function __init__: Initializes the answer checker with a browser manager.  Args:     browser_pool: BrowserPoolManage...
│       │   function check_answer: Check the user's answer against the official FIPI answer.  Args:     task_id: The ID of the task ...
│       ├── block_processor_adapter.py (11.1 KB)
│       │   module __main__: Infrastructure adapter for processing individual blocks of HTML content from FIPI pages.  This mo...
│       │   class BlockProcessorAdapter: Infrastructure adapter implementing domain interface for processing a single problem block from F...
│       │   method BlockProcessorAdapter.__init__: Initializes the BlockProcessorAdapter with required services.  Args:     task_inferer: Domain int...
│       │   method BlockProcessorAdapter.process_html_block: Processes a single block pair (header_container, qblock) into structured data.  Args:     header_...
│       │   method BlockProcessorAdapter._extract_kes_codes_reliable: Extracts KES codes reliably by parsing the structured 'КЭС:' line.  Args:     header_container: T...
│       │   method BlockProcessorAdapter._extract_kos_codes_reliable: Extracts KOS codes reliably by parsing the structured 'КЭС:' line.  Args:     header_container: T...
│       │   function __init__: Initializes the BlockProcessorAdapter with required services.  Args:     task_inferer: Domain int...
│       │   function process_html_block: Processes a single block pair (header_container, qblock) into structured data.  Args:     header_...
│       │   function _extract_kes_codes_reliable: Extracts KES codes reliably by parsing the structured 'КЭС:' line.  Args:     header_container: T...
│       │   function _extract_kos_codes_reliable: Extracts KOS codes reliably by parsing the structured 'КЭС:' line.  Args:     header_container: T...
│       ├── database_adapter.py (15.4 KB)
│       │   module __main__: Infrastructure adapter for managing SQLite connections and performing CRUD operations on tasks, a...
│       │   class DatabaseAdapter: Infrastructure adapter implementing repository interfaces for database operations.  This class im...
│       │   method DatabaseAdapter._ensure_tables: Create tables if they don't exist.
│       │   method DatabaseAdapter.async_session: Provide async session context manager.
│       │   method DatabaseAdapter.save: Save a domain problem entity to the database.
│       │   method DatabaseAdapter.get_by_id: Retrieve a problem by its ID.
│       │   method DatabaseAdapter.get_by_subject: Retrieve all problems for a given subject.
│       │   method DatabaseAdapter.get_by_exam_part: Retrieve all problems for a given exam part.
│       │   method DatabaseAdapter.get_by_difficulty: Retrieve all problems for a given difficulty level.
│       │   method DatabaseAdapter.save_user_progress: Save a domain user progress entity to the database.
│       │   method DatabaseAdapter.get_user_progress_by_user_and_problem: Retrieve user progress for a specific problem.
│       │   method DatabaseAdapter.get_user_progress_by_user: Retrieve all progress records for a user.
│       │   method DatabaseAdapter.get_completed_user_progress_by_user: Retrieve all completed progress records for a user.
│       │   method DatabaseAdapter.get_skill_by_id: Retrieve a skill by its ID.
│       │   method DatabaseAdapter.get_all_skills: Retrieve all skills.
│       │   method DatabaseAdapter.get_skills_by_problem_id: Retrieve all skills associated with a specific problem.
│       │   method DatabaseAdapter.save_answer_status: Save answer status for a user and problem.
│       │   method DatabaseAdapter.save_problem: Legacy method to save a problem - kept for backward compatibility.
│       │   method DatabaseAdapter.get_problem_by_id: Legacy method to get a problem by ID - kept for backward compatibility.
│       │   method DatabaseAdapter.get_problems_by_subject: Legacy method to get problems by subject - kept for backward compatibility.
│       │   method DatabaseAdapter.save_answer: Save an answer for a problem.
│       │   method DatabaseAdapter.get_answer_status: Retrieve the answer status for a problem and user.
│       │   method DatabaseAdapter.get_all_subjects: Get all available subjects from the database.
│       │   method DatabaseAdapter.get_random_problem_ids: Get random problem IDs for a given subject.
│       │   function _ensure_tables: Create tables if they don't exist.
│       │   function async_session: Provide async session context manager.
│       │   function save: Save a domain problem entity to the database.
│       │   function get_by_id: Retrieve a problem by its ID.
│       │   function get_by_subject: Retrieve all problems for a given subject.
│       │   function get_by_exam_part: Retrieve all problems for a given exam part.
│       │   function get_by_difficulty: Retrieve all problems for a given difficulty level.
│       │   function save_user_progress: Save a domain user progress entity to the database.
│       │   function get_user_progress_by_user_and_problem: Retrieve user progress for a specific problem.
│       │   function get_user_progress_by_user: Retrieve all progress records for a user.
│       │   function get_completed_user_progress_by_user: Retrieve all completed progress records for a user.
│       │   function get_skill_by_id: Retrieve a skill by its ID.
│       │   function get_all_skills: Retrieve all skills.
│       │   function get_skills_by_problem_id: Retrieve all skills associated with a specific problem.
│       │   function save_answer_status: Save answer status for a user and problem.
│       │   function save_problem: Legacy method to save a problem - kept for backward compatibility.
│       │   function get_problem_by_id: Legacy method to get a problem by ID - kept for backward compatibility.
│       │   function get_problems_by_subject: Legacy method to get problems by subject - kept for backward compatibility.
│       │   function save_answer: Save an answer for a problem.
│       │   function get_answer_status: Retrieve the answer status for a problem and user.
│       │   function get_all_subjects: Get all available subjects from the database.
│       │   function get_random_problem_ids: Get random problem IDs for a given subject.
│       ├── fipi_html_metadata_extractor.py (4.8 KB)
│       │   module __main__: Module for extracting task-specific metadata from HTML header containers.  This module provides t...
│       │   class MetadataExtractor: A class to extract task-specific metadata (task_id, form_id) from header containers.  This class ...
│       │   method MetadataExtractor.extract: Extracts task-specific metadata from a header container.  Args:     header_container (Tag): The B...
│       │   method MetadataExtractor.extract_metadata_from_header: Extracts metadata from a header container specifically for the BlockProcessorAdapter. This method...
│       │   function extract: Extracts task-specific metadata from a header container.  Args:     header_container (Tag): The B...
│       │   function extract_metadata_from_header: Extracts metadata from a header container specifically for the BlockProcessorAdapter. This method...
│       ├── html_element_pairer_adapter.py (12.3 KB)
│       │   class ElementPairer: A class to pair 'header container' divs with their corresponding 'qblock' divs.  This class provi...
│       │   method ElementPairer.pair: Finds and pairs 'qblock' divs with their corresponding 'header container' divs based on matching ...
│       │   function pair: Finds and pairs 'qblock' divs with their corresponding 'header container' divs based on matching ...
│       ├── html_metadata_extractor_adapter.py (5.5 KB)
│       │   method HTMLMetadataExtractorAdapter.extract_metadata_from_header: Извлекает метаданные из header-элемента в формате bs4.element.Tag
│       │   method HTMLMetadataExtractorAdapter._needs_encoding_fix: Проверяет необходимость исправления двойной кодировки
│       │   method HTMLMetadataExtractorAdapter._fix_encoding: Исправляет двойную кодировку текста
│       │   method HTMLMetadataExtractorAdapter._extract_task_number: Извлекает номер задания из текста
│       │   method HTMLMetadataExtractorAdapter._extract_kes_codes: Извлекает коды КЭС из текста
│       │   method HTMLMetadataExtractorAdapter._extract_kos_codes: Извлекает коды КОС из текста
│       │   method HTMLMetadataExtractorAdapter._extract_codes: Вспомогательный метод для извлечения кодов
│       │   function extract_metadata_from_header: Извлекает метаданные из header-элемента в формате bs4.element.Tag
│       │   function _needs_encoding_fix: Проверяет необходимость исправления двойной кодировки
│       │   function _fix_encoding: Исправляет двойную кодировку текста
│       │   function _extract_task_number: Извлекает номер задания из текста
│       │   function _extract_kes_codes: Извлекает коды КЭС из текста
│       │   function _extract_kos_codes: Извлекает коды КОС из текста
│       │   function _extract_codes: Вспомогательный метод для извлечения кодов
│       ├── html_pairer_adapter.py (12.3 KB)
│       │   class HTMLPairerAdapter: Infrastructure adapter for pairing 'header container' divs with their corresponding 'qblock' divs...
│       │   method HTMLPairerAdapter.pair_elements: Finds and pairs 'qblock' divs with their corresponding 'header container' divs based on matching ...
│       │   function pair_elements: Finds and pairs 'qblock' divs with their corresponding 'header container' divs based on matching ...
│       ├── local_storage_adapter.py (2.9 KB)
│       │   module __main__: Local storage adapter module for managing task answers and statuses.
│       │   class LocalStorageAdapterAdapter: Manages local storage for task answers and their statuses with in-memory caching.
│       │   method LocalStorageAdapterAdapter.__init__: Initializes the LocalStorageAdapter with a path to the storage file.  Args:     storage_path: Pat...
│       │   method LocalStorageAdapterAdapter._load_data_from_disk: Loads data from the storage file on disk.  Returns:     A dictionary with the loaded data.
│       │   method LocalStorageAdapterAdapter._save_data_to_disk: Saves the in-memory data to the storage file on disk.
│       │   method LocalStorageAdapterAdapter.get_answer_and_status: Gets the stored answer and status for a problem.  Args:     problem_id: The ID of the problem.  R...
│       │   method LocalStorageAdapterAdapter.save_answer_and_status: Saves an answer and its status for a problem.  Args:     problem_id: The ID of the problem.     a...
│       │   function __init__: Initializes the LocalStorageAdapter with a path to the storage file.  Args:     storage_path: Pat...
│       │   function _load_data_from_disk: Loads data from the storage file on disk.  Returns:     A dictionary with the loaded data.
│       │   function _save_data_to_disk: Saves the in-memory data to the storage file on disk.
│       │   function get_answer_and_status: Gets the stored answer and status for a problem.  Args:     problem_id: The ID of the problem.  R...
│       │   function save_answer_and_status: Saves an answer and its status for a problem.  Args:     problem_id: The ID of the problem.     a...
│       ├── qdrant_retriever_adapter.py (3.0 KB)
│       │   module __main__: Infrastructure adapter for retrieving Problem instances from the database based on semantic simil...
│       │   class QdrantRetrieverAdapter: A class to retrieve Problems from the database based on semantic similarity using a Qdrant vector...
│       │   method QdrantRetrieverAdapter.__init__: Initializes the retriever with Qdrant client and database manager.  Args:     qdrant_client: The ...
│       │   method QdrantRetrieverAdapter.retrieve_similar_problems: Retrieve problems similar to the query.  Args:     query: The query text to find similar problems...
│       │   function __init__: Initializes the retriever with Qdrant client and database manager.  Args:     qdrant_client: The ...
│       │   function retrieve_similar_problems: Retrieve problems similar to the query.  Args:     query: The query text to find similar problems...
│       ├── specification_adapter.py (3.4 KB)
│       │   module __main__: Infrastructure adapter for loading and querying official FIPI specifications (KES/KOS). Provides ...
│       │   method SpecificationAdapter.__init__: Initialize with paths to official FIPI JSON specifications.  Args:     spec_path: Path to e.g. eg...
│       │   method SpecificationAdapter._load_json: Helper to load JSON safely.
│       │   method SpecificationAdapter.get_task_spec: Get official task specification by number (1–19).
│       │   method SpecificationAdapter.explain_kos: Return human-readable KOS description.
│       │   method SpecificationAdapter.explain_kes: Return human-readable KES description.
│       │   method SpecificationAdapter.get_feedback_for_task: Generate pedagogical feedback for a given task number. Returns structured feedback including KOS ...
│       │   function __init__: Initialize with paths to official FIPI JSON specifications.  Args:     spec_path: Path to e.g. eg...
│       │   function _load_json: Helper to load JSON safely.
│       │   function get_task_spec: Get official task specification by number (1–19).
│       │   function explain_kos: Return human-readable KOS description.
│       │   function explain_kes: Return human-readable KES description.
│       │   function get_feedback_for_task: Generate pedagogical feedback for a given task number. Returns structured feedback including KOS ...
│       ├── task_classifier_adapter.py (1.4 KB)
│       │   module __main__: Infrastructure adapter for task classification.
│       │   class TaskClassifierAdapter: Infrastructure adapter implementing domain interface for task classification.
│       │   method TaskClassifierAdapter.__init__: Initialize the adapter.  Args:     task_inferer: Implementation of ITaskNumberInferer for inferri...
│       │   method TaskClassifierAdapter.classify_task: Classify a task based on KES/KOS codes and answer type.  Args:     kes_codes: List of KES codes  ...
│       │   function __init__: Initialize the adapter.  Args:     task_inferer: Implementation of ITaskNumberInferer for inferri...
│       │   function classify_task: Classify a task based on KES/KOS codes and answer type.  Args:     kes_codes: List of KES codes  ...
│       └── task_number_inferer_adapter.py (5.0 KB)
│           module __main__: Infrastructure adapter for inferring task numbers from problem IDs using official FIPI specificat...
│           class TaskNumberInfererAdapter: Adapter for inferring task numbers based on rules and specifications.  This class implements the ...
│           method TaskNumberInfererAdapter.__init__: Initialize the inferer with specification service and rules.  Args:     spec_service: An instance...
│           method TaskNumberInfererAdapter._load_rules: Load inference rules from a JSON file.
│           method TaskNumberInfererAdapter.infer_task_number: Infer the task number from a problem ID using loaded rules.  Args:     problem_id: The ID of the ...
│           method TaskNumberInfererAdapter.infer: Infer the official ЕГЭ task number from KES codes and answer type.  Args:     kes_codes: List of ...
│           function __init__: Initialize the inferer with specification service and rules.  Args:     spec_service: An instance...
│           function _load_rules: Load inference rules from a JSON file.
│           function infer_task_number: Infer the task number from a problem ID using loaded rules.  Args:     problem_id: The ID of the ...
│           function infer: Infer the official ЕГЭ task number from KES codes and answer type.  Args:     kes_codes: List of ...
├── models/
├── processors/
│   ├── html/
│   │   ├── __init__.py (475.0 B)
│   │   ├── file_link_processor.py (6.5 KB)
│   │   │   class FileLinkProcessor: Processes file links, downloading files and updating href attributes.
│   │   │   method FileLinkProcessor.process_html_block: Process a single HTML block pair and return structured data. This method processes file links in ...
│   │   │   method FileLinkProcessor.process: Processes javascript file links and direct file links.  Args:     content: Input HTML content as ...
│   │   │   function process_html_block: Process a single HTML block pair and return structured data. This method processes file links in ...
│   │   │   function process: Processes javascript file links and direct file links.  Args:     content: Input HTML content as ...
│   │   ├── image_processor.py (7.7 KB)
│   │   │   class ImageScriptProcessor: Processes image-related scripts and direct img tags, downloading images and updating src attributes.
│   │   │   method ImageScriptProcessor.process_html_block: Process a single HTML block pair and return structured data. This method processes image-related ...
│   │   │   method ImageScriptProcessor.process: Processes ShowPicture scripts and direct <img> tags.  Args:     content: Input HTML content as st...
│   │   │   function process_html_block: Process a single HTML block pair and return structured data. This method processes image-related ...
│   │   │   function process: Processes ShowPicture scripts and direct <img> tags.  Args:     content: Input HTML content as st...
│   │   ├── input_field_remover.py (1.9 KB)
│   │   │   class InputFieldRemover: Removes input fields from the page content.
│   │   │   method InputFieldRemover.process_html_block: Process a single HTML block pair and return structured data. This method removes input fields fro...
│   │   │   method InputFieldRemover.process: Removes input fields with name 'answer'.  Args:     content: Input HTML content as string     con...
│   │   │   function process_html_block: Process a single HTML block pair and return structured data. This method removes input fields fro...
│   │   │   function process: Removes input fields with name 'answer'.  Args:     content: Input HTML content as string     con...
│   │   ├── mathml_remover.py (1.9 KB)
│   │   │   class MathMLRemover: Removes MathML elements from the page content.
│   │   │   method MathMLRemover.process_html_block: Process a single HTML block pair and return structured data. This method removes MathML elements ...
│   │   │   method MathMLRemover.process: Removes math and mml:math tags.  Args:     content: Input HTML content as string     context: Pro...
│   │   │   function process_html_block: Process a single HTML block pair and return structured data. This method removes MathML elements ...
│   │   │   function process: Removes math and mml:math tags.  Args:     content: Input HTML content as string     context: Pro...
│   │   ├── task_info_processor.py (3.0 KB)
│   │   │   class TaskInfoProcessor: Processes task info buttons, updating onclick attributes.
│   │   │   method TaskInfoProcessor.process_html_block: Process a single HTML block pair and return structured data. This method processes task info butt...
│   │   │   method TaskInfoProcessor.process: Process HTML content string and return updated content with metadata. This method is needed to ma...
│   │   │   function process_html_block: Process a single HTML block pair and return structured data. This method processes task info butt...
│   │   │   function process: Process HTML content string and return updated content with metadata. This method is needed to ma...
│   │   └── unwanted_element_remover.py (3.1 KB)
│   │       class UnwantedElementRemover: Removes unwanted HTML elements from the page content.
│   │       method UnwantedElementRemover.process_html_block: Process a single HTML block pair and return structured data. This method removes unwanted element...
│   │       method UnwantedElementRemover.process: Removes hint divs, status title spans, task status spans, and table rows with bgcolor.  Args:    ...
│   │       function process_html_block: Process a single HTML block pair and return structured data. This method removes unwanted element...
│   │       function process: Removes hint divs, status title spans, task status spans, and table rows with bgcolor.  Args:    ...
│   ├── __init__.py (129.0 B)
│   ├── asset_processor_interface.py (2.0 KB)
│   │   module __main__: Module defining the abstract interface for HTML asset processors.  This module provides the `Asse...
│   │   class AssetProcessor: Abstract base class defining the interface for asset processors.  All concrete asset processors (...
│   │   method AssetProcessor.process: Process the HTML content string, potentially downloading or transforming assets.  Args:     conte...
│   │   function process: Process the HTML content string, potentially downloading or transforming assets.  Args:     conte...
│   ├── html_processing_pipeline.py (4.0 KB)
│   │   module __main__: HTML processing pipeline with distinct stages.
│   │   class ProcessingStage: Abstract base class for processing stages.
│   │   method ProcessingStage.execute: Execute the processing stage.  Args:     content: Input content to process     context: Processin...
│   │   class AssetProcessingStage: Stage for processing assets (images, files).
│   │   method AssetProcessingStage.execute: Process assets in the HTML content.  Args:     content: HTML content     context: Processing cont...
│   │   class ContentExtractionStage: Stage for content extraction and cleaning.
│   │   method ContentExtractionStage.execute: Extract and clean content from HTML.  Args:     content: HTML content     context: Processing con...
│   │   class MetadataExtractionStage: Stage for metadata extraction.
│   │   method MetadataExtractionStage.execute: Extract metadata from HTML content.  Args:     content: HTML content     context: Processing cont...
│   │   class HTMLProcessingPipeline: Pipeline for processing HTML content through distinct stages.
│   │   method HTMLProcessingPipeline.__init__: Initialize the pipeline.  Args:     stages: List of processing stages to execute in order
│   │   method HTMLProcessingPipeline.process: Process content through all stages of the pipeline.  Args:     content: Input content to process ...
│   │   function execute: Execute the processing stage.  Args:     content: Input content to process     context: Processin...
│   │   function execute: Process assets in the HTML content.  Args:     content: HTML content     context: Processing cont...
│   │   function execute: Extract and clean content from HTML.  Args:     content: HTML content     context: Processing con...
│   │   function execute: Extract metadata from HTML content.  Args:     content: HTML content     context: Processing cont...
│   │   function __init__: Initialize the pipeline.  Args:     stages: List of processing stages to execute in order
│   │   function process: Process content through all stages of the pipeline.  Args:     content: Input content to process ...
│   ├── json_saver.py (3.0 KB)
│   │   module __main__: Module for saving parsed data into JSON format.  This module provides the `JSONSaver` class, whic...
│   │   class JSONSaver: A class responsible for saving data structures to JSON files.  This class provides a method to se...
│   │   method JSONSaver.save: Saves the provided data structure to a JSON file.  This method takes any serializable Python obje...
│   │   function save: Saves the provided data structure to a JSON file.  This method takes any serializable Python obje...
│   ├── page_processor.py (3.0 KB)
│   │   module __main__: Module for orchestrating the processing of a single scraped HTML page into structured data. This ...
│   │   class PageProcessingOrchestrator: Orchestrates the processing of a complete HTML page into structured data.  It handles the entire ...
│   │   method PageProcessingOrchestrator.__init__: Initializes the orchestrator with required services.  Args:     html_processor: IHTMLProcessor im...
│   │   method PageProcessingOrchestrator.process_page: Processes the entire page content into a list of structured data dictionaries.  Args:     page_co...
│   │   function __init__: Initializes the orchestrator with required services.  Args:     html_processor: IHTMLProcessor im...
│   │   function process_page: Processes the entire page content into a list of structured data dictionaries.  Args:     page_co...
│   └── ui_components.py (3.2 KB)
│       module __main__: Module for rendering reusable UI components for HTML pages.  This module provides classes and fun...
│       class MathSymbolButtonsRenderer: Renders HTML and JavaScript for a set of math symbol buttons.
│       method MathSymbolButtonsRenderer.render: Generates the HTML for the math symbol buttons using a Jinja2 template.  Args:     block_index (i...
│       class AnswerFormRenderer: Renders the HTML for the interactive answer form for a specific block.
│       method AnswerFormRenderer.__init__: Initializes the AnswerFormRenderer.
│       method AnswerFormRenderer.render: Generates the HTML for the interactive answer form for a specific block using a Jinja2 template. ...
│       function render: Generates the HTML for the math symbol buttons using a Jinja2 template.  Args:     block_index (i...
│       function __init__: Initializes the AnswerFormRenderer.
│       function render: Generates the HTML for the interactive answer form for a specific block using a Jinja2 template. ...
├── resource_management/
│   ├── browser_manager.py (5.9 KB)
│   │   module __main__: Module for centralized Playwright browser management implementing IBrowserResource.
│   │   class BrowserManager: Manages a single browser instance and caches pages per subject. Implements IBrowserResource for l...
│   │   method BrowserManager.initialize: Initialize the browser context.
│   │   method BrowserManager.close: Close all cached pages and the browser.
│   │   method BrowserManager.is_healthy: Check if the browser resource is healthy.
│   │   method BrowserManager.get_page: Get a cached page for a subject or create a new one.  Args:     subject: The subject name (e.g., ...
│   │   method BrowserManager.get_subjects_list_page: Get a dedicated page for the subjects listing page (ege.fipi.ru/bank/index.php). This page is not...
│   │   method BrowserManager.get_general_page: Get a general-purpose page not tied to a specific subject/proj_id. Useful for tasks like scraping...
│   │   function initialize: Initialize the browser context.
│   │   function close: Close all cached pages and the browser.
│   │   function is_healthy: Check if the browser resource is healthy.
│   │   function get_page: Get a cached page for a subject or create a new one.  Args:     subject: The subject name (e.g., ...
│   │   function get_subjects_list_page: Get a dedicated page for the subjects listing page (ege.fipi.ru/bank/index.php). This page is not...
│   │   function get_general_page: Get a general-purpose page not tied to a specific subject/proj_id. Useful for tasks like scraping...
│   ├── browser_pool_manager.py (2.8 KB)
│   │   module __main__: Module for managing a pool of BrowserManager instances for parallel scraping using resource pool.
│   │   class BrowserPoolManager: Manages a pool of BrowserManager instances for parallel scraping using resource pool.
│   │   method BrowserPoolManager.__init__: Initialize the browser pool.  Args:     pool_size: Number of BrowserManager instances to maintain...
│   │   method BrowserPoolManager._create_browser_manager: Factory method to create a new BrowserManager instance.
│   │   method BrowserPoolManager.initialize: Initialize the resource pool.
│   │   method BrowserPoolManager.get_available_browser: Get an available BrowserManager from the pool.  Returns:     An available BrowserManager instance.
│   │   method BrowserPoolManager.return_browser: Return a BrowserManager instance back to the pool.  Args:     browser_manager: The BrowserManager...
│   │   method BrowserPoolManager.close_all: Close all BrowserManager instances in the pool.
│   │   method BrowserPoolManager.get_stats: Get pool statistics.
│   │   method BrowserPoolManager.pool: Get access to the underlying resource pool for advanced operations.
│   │   method BrowserPoolManager.__aenter__: Async context manager entry.
│   │   method BrowserPoolManager.__aexit__: Async context manager exit.
│   │   function __init__: Initialize the browser pool.  Args:     pool_size: Number of BrowserManager instances to maintain...
│   │   function _create_browser_manager: Factory method to create a new BrowserManager instance.
│   │   function initialize: Initialize the resource pool.
│   │   function get_available_browser: Get an available BrowserManager from the pool.  Returns:     An available BrowserManager instance.
│   │   function return_browser: Return a BrowserManager instance back to the pool.  Args:     browser_manager: The BrowserManager...
│   │   function close_all: Close all BrowserManager instances in the pool.
│   │   function get_stats: Get pool statistics.
│   │   function pool: Get access to the underlying resource pool for advanced operations.
│   │   function __aenter__: Async context manager entry.
│   │   function __aexit__: Async context manager exit.
│   ├── circuit_breaker.py (3.3 KB)
│   │   class CircuitBreaker: Circuit breaker pattern for browser resource resilience.
│   │   method CircuitBreaker.call: Execute function with circuit breaker protection.
│   │   method CircuitBreaker._should_attempt_reset: Check if enough time has passed to attempt circuit reset.
│   │   method CircuitBreaker._record_failure: Record a failure and update state.
│   │   method CircuitBreaker._reset: Reset circuit breaker state.
│   │   method CircuitBreaker.get_state_info: Get current circuit breaker state information.
│   │   function call: Execute function with circuit breaker protection.
│   │   function _should_attempt_reset: Check if enough time has passed to attempt circuit reset.
│   │   function _record_failure: Record a failure and update state.
│   │   function _reset: Reset circuit breaker state.
│   │   function get_state_info: Get current circuit breaker state information.
│   ├── interfaces.py (1012.0 B)
│   │   class IBrowserResource: Interface for browser resources that require lifecycle management.
│   │   method IBrowserResource.initialize: Initialize the browser resource.
│   │   method IBrowserResource.close: Close and cleanup the browser resource.
│   │   method IBrowserResource.is_healthy: Check if the resource is healthy.
│   │   class IResourcePool: Interface for resource pools.
│   │   method IResourcePool.acquire: Acquire a resource from the pool.
│   │   method IResourcePool.release: Release a resource back to the pool.
│   │   method IResourcePool.get_stats: Get resource pool statistics.
│   │   function initialize: Initialize the browser resource.
│   │   function close: Close and cleanup the browser resource.
│   │   function is_healthy: Check if the resource is healthy.
│   │   function acquire: Acquire a resource from the pool.
│   │   function release: Release a resource back to the pool.
│   │   function get_stats: Get resource pool statistics.
│   ├── monitor.py (3.3 KB)
│   │   class ResourceMonitor: Monitors browser resource usage and health.
│   │   method ResourceMonitor.register_resource: Register a resource for monitoring.
│   │   method ResourceMonitor.unregister_resource: Unregister a resource from monitoring.
│   │   method ResourceMonitor.get_current_metrics: Get current resource metrics.
│   │   method ResourceMonitor.get_average_metrics: Get average metrics for the last N minutes.
│   │   function register_resource: Register a resource for monitoring.
│   │   function unregister_resource: Unregister a resource from monitoring.
│   │   function get_current_metrics: Get current resource metrics.
│   │   function get_average_metrics: Get average metrics for the last N minutes.
│   └── pool.py (5.2 KB)
│       class BrowserResourcePool: Resource pool with circuit breaker and monitoring.
│       method BrowserResourcePool.initialize: Initialize the resource pool.
│       method BrowserResourcePool.acquire: Acquire a resource from the pool.
│       method BrowserResourcePool._acquire_resource: Internal method to acquire a resource.
│       method BrowserResourcePool.release: Release a resource back to the pool.
│       method BrowserResourcePool.get_stats: Get resource pool statistics.
│       method BrowserResourcePool.close_all: Close all resources in the pool.
│       method BrowserResourcePool.get_resource: Context manager for resource acquisition and release.
│       function initialize: Initialize the resource pool.
│       function acquire: Acquire a resource from the pool.
│       function _acquire_resource: Internal method to acquire a resource.
│       function release: Release a resource back to the pool.
│       function get_stats: Get resource pool statistics.
│       function close_all: Close all resources in the pool.
│       function get_resource: Context manager for resource acquisition and release.
├── scraper/
│   ├── __init__.py (0 B)
│   ├── fipi_scraper.py (9.8 KB)
│   │   module __main__: Module for scraping FIPI website content and orchestrating the processing pipeline. Refactored to...
│   │   class FIPIScraper: Orchestrates the scraping and processing of FIPI website content. This class now delegates the co...
│   │   method FIPIScraper.__init__: Initializes the scraper with necessary dependencies and configuration.  Args:     base_url (str):...
│   │   method FIPIScraper.get_projects: Parses the subjects list page HTML to extract project ID to subject name mappings. NOTE: This met...
│   │   method FIPIScraper.scrape_page: Scrapes a single page of problems for a given project ID. Delegates the actual scraping to PageSc...
│   │   method FIPIScraper.close: Closes the associated browser resources.
│   │   function __init__: Initializes the scraper with necessary dependencies and configuration.  Args:     base_url (str):...
│   │   function get_projects: Parses the subjects list page HTML to extract project ID to subject name mappings. NOTE: This met...
│   │   function scrape_page: Scrapes a single page of problems for a given project ID. Delegates the actual scraping to PageSc...
│   │   function close: Closes the associated browser resources.
│   └── fipi_scraper_backup.py (14.1 KB)
│       module __main__: Module for scraping FIPI website content and orchestrating the processing pipeline.
│       class FIPIScraper: Orchestrates the scraping and processing of FIPI website content. This class coordinates browser ...
│       method FIPIScraper.__init__: Initializes the scraper with necessary dependencies and configuration.  Args:     base_url (str):...
│       method FIPIScraper.get_projects: Parses the subjects list page HTML to extract project ID to subject name mappings. NOTE: This met...
│       method FIPIScraper.scrape_page: Scrapes a single page of problems for a given project ID.  Args:     proj_id (str): Project ID fo...
│       method FIPIScraper.close: Closes the associated browser resources.
│       function __init__: Initializes the scraper with necessary dependencies and configuration.  Args:     base_url (str):...
│       function get_projects: Parses the subjects list page HTML to extract project ID to subject name mappings. NOTE: This met...
│       function scrape_page: Scrapes a single page of problems for a given project ID.  Args:     proj_id (str): Project ID fo...
│       function close: Closes the associated browser resources.
├── scripts/
│   ├── analyze_dependencies.py (3.5 KB)
│   ├── find_cycles.py (1.7 KB)
│   ├── index_problems.py (5.0 KB)
│   │   module __main__: Script to index problems from the SQLite database into a Qdrant collection.  This script loads pr...
│   │   function main: Main function to orchestrate the indexing process.  This function: 1. Sets up logging 2. Validate...
│   ├── migrate_database.py (2.2 KB)
│   │   function initialize_database: Initialize database with required tables if they don't exist
│   ├── migrate_offline_html.py (7.2 KB)
│   │   module __main__: Скрипт для миграции offline_html в базу данных fipi_data.db.  Извлекает содержимое задачи из файл...
│   │   function add_offline_html_column: Добавляет столбец offline_html в таблицу problems, если он не существует.
│   │   function extract_task_content_and_id: Извлекает содержимое задачи (.qblock) и суффикс problem_id (data-task-id из .processed_qblock) из...
│   │   function find_problem_id_by_suffix: Ищет problem_id в базе данных по суффиксу (task_id_suffix). Возвращает полный problem_id или None...
│   │   function migrate_blocks_to_db: Основная функция миграции.
│   └── scrape_tasks.py (21.7 KB)
│       module __main__: Script for scraping FIPI tasks and saving them to the database.  This script contains the main sc...
│       function get_subject_output_dir: Returns the output directory path for a given subject.  Constructs the path as data/{alias}/{year...
│       class CLIScraper: Class to encapsulate the CLI scraping logic.
│       method CLIScraper.setup_logging: Initialize logging.
│       method CLIScraper.get_available_subjects: Get available subjects from subject_mapping, excluding those without PROJ_IDS. Returns a mapping ...
│       method CLIScraper.scrape_subject_logic: Performs the iterative scraping for a given subject.
│       method CLIScraper.parallel_scrape_logic: Performs parallel scraping for multiple subjects.
│       method CLIScraper.run: The main asynchronous function providing the CLI loop for scraping.
│       function setup_logging: Initialize logging.
│       function get_available_subjects: Get available subjects from subject_mapping, excluding those without PROJ_IDS. Returns a mapping ...
│       function scrape_subject_logic: Performs the iterative scraping for a given subject.
│       function parallel_scrape_logic: Performs parallel scraping for multiple subjects.
│       function run: The main asynchronous function providing the CLI loop for scraping.
├── services/
│   ├── __init__.py (0 B)
│   ├── answer_service.py (6.2 KB)
│   │   class AnswerService: Service class for handling answer validation and caching logic.
│   │   method AnswerService.initialize: Initialize service-specific resources.
│   │   method AnswerService._check_cache: Checks the local cache for a result.
│   │   method AnswerService._call_external_checker: Calls the external answer checker.
│   │   method AnswerService._save_result: Saves the check result to local storage.
│   │   method AnswerService._generate_feedback: Generates a response with feedback and adaptive recommendations.
│   │   function initialize: Initialize service-specific resources.
│   │   function _check_cache: Checks the local cache for a result.
│   │   function _call_external_checker: Calls the external answer checker.
│   │   function _save_result: Saves the check result to local storage.
│   │   function _generate_feedback: Generates a response with feedback and adaptive recommendations.
│   ├── base_service.py (975.0 B)
│   │   class ICacheProvider: Interface for cache operations.
│   │   class IExternalChecker: Interface for external answer checking services.
│   │   class BaseService: Base service class providing common initialization and logging.
│   │   method BaseService.initialize: Initialize service-specific resources.
│   │   function initialize: Initialize service-specific resources.
│   └── quiz_service.py (6.0 KB)
│       class QuizService: Service class for handling quiz-related business logic.
│       method QuizService.__init__: Initializes the QuizService with a database manager and adaptive components.  Args:     db: The d...
│       method QuizService.initialize: Initialize service-specific resources.
│       method QuizService.start_quiz: Initiates a new quiz based on the provided request and user's progress.  Args:     request: The r...
│       method QuizService._select_problems_by_strategy: Selects problems based on the specified strategy and user's skill graph.
│       method QuizService._get_calibration_problems: Retrieves a set of problems for initial skill calibration.
│       method QuizService._get_adaptive_problems: Retrieves problems based on the user's skill graph and adaptive logic.
│       method QuizService._get_final_problems: Retrieves problems for a final exam simulation based on specifications.
│       function __init__: Initializes the QuizService with a database manager and adaptive components.  Args:     db: The d...
│       function initialize: Initialize service-specific resources.
│       function start_quiz: Initiates a new quiz based on the provided request and user's progress.  Args:     request: The r...
│       function _select_problems_by_strategy: Selects problems based on the specified strategy and user's skill graph.
│       function _get_calibration_problems: Retrieves a set of problems for initial skill calibration.
│       function _get_adaptive_problems: Retrieves problems based on the user's skill graph and adaptive logic.
│       function _get_final_problems: Retrieves problems for a final exam simulation based on specifications.
├── templates/
│   └── ui_components/
│       └── common_scripts.js (6.8 KB)
├── tests/
│   ├── api/
│   │   └── services/
│   │       └── test_answer_service.py (11.2 KB)
│   ├── domain/
│   │   └── test_answer_type_detector.py (2.0 KB)
│   │       class TestAnswerTypeService: Unit tests for AnswerTypeService.
│   │       method TestAnswerTypeService.answer_type_service: Create an AnswerTypeService instance.
│   │       method TestAnswerTypeService.test_detect_answer_type_short_text: Test detection of short text answers.
│   │       method TestAnswerTypeService.test_detect_answer_type_extended_text: Test detection of extended text answers.
│   │       method TestAnswerTypeService.test_detect_answer_type_multiple_choice: Test detection of multiple choice answers.
│   │       method TestAnswerTypeService.test_detect_answer_type_unknown: Test detection when no answer input is found.
│   │       method TestAnswerTypeService.test_detect_answer_type_default_short: Test default detection for text input without maxlength.
│   │       function answer_type_service: Create an AnswerTypeService instance.
│   │       function test_detect_answer_type_short_text: Test detection of short text answers.
│   │       function test_detect_answer_type_extended_text: Test detection of extended text answers.
│   │       function test_detect_answer_type_multiple_choice: Test detection of multiple choice answers.
│   │       function test_detect_answer_type_unknown: Test detection when no answer input is found.
│   │       function test_detect_answer_type_default_short: Test default detection for text input without maxlength.
│   ├── infrastructure/
│   │   └── adapters/
│   │       ├── test_fipi_html_metadata_extractor.py (763.0 B)
│   │       └── test_html_element_pairer_adapter.py (745.0 B)
│   ├── observability/
│   │   └── test_exceptions.py (2.4 KB)
│   │       class TestDomainExceptions: Test cases for domain exception hierarchy.
│   │       method TestDomainExceptions.test_base_domain_exception_creation: Test creation of base domain exception.
│   │       method TestDomainExceptions.test_base_domain_exception_default_error_code: Test default error code when not specified.
│   │       method TestDomainExceptions.test_base_domain_exception_to_dict: Test conversion to dictionary for logging.
│   │       method TestDomainExceptions.test_validation_exception: Test ValidationException.
│   │       method TestDomainExceptions.test_resource_not_found_exception: Test ResourceNotFoundException.
│   │       method TestDomainExceptions.test_external_service_exception: Test ExternalServiceException.
│   │       function test_base_domain_exception_creation: Test creation of base domain exception.
│   │       function test_base_domain_exception_default_error_code: Test default error code when not specified.
│   │       function test_base_domain_exception_to_dict: Test conversion to dictionary for logging.
│   │       function test_validation_exception: Test ValidationException.
│   │       function test_resource_not_found_exception: Test ResourceNotFoundException.
│   │       function test_external_service_exception: Test ExternalServiceException.
│   ├── resource_management/
│   │   └── test_circuit_breaker.py (2.6 KB)
│   │       function test_circuit_breaker_normal_operation: Test circuit breaker in normal operation.
│   │       function test_circuit_breaker_failure_threshold: Test circuit breaker opens after failure threshold.
│   │       function test_circuit_breaker_reset: Test circuit breaker reset after timeout.
│   ├── unit/
│   │   └── test_database_adapter_interface.py (4.2 KB)
│   │       module __main__: Unit tests for DatabaseAdapter interface compliance. Following industry best practices and minima...
│   │       class TestDatabaseAdapterInterfaceCompliance: Test that DatabaseAdapter properly implements IDatabaseProvider interface.
│   │       method TestDatabaseAdapterInterfaceCompliance.setup_method: Setup method for each test.
│   │       method TestDatabaseAdapterInterfaceCompliance.teardown_method: Teardown method for each test.
│   │       method TestDatabaseAdapterInterfaceCompliance.test_implements_idatabase_provider: Test that DatabaseAdapter implements IDatabaseProvider interface.
│   │       method TestDatabaseAdapterInterfaceCompliance.test_has_required_sync_methods: Test that DatabaseAdapter has required synchronous methods.
│   │       method TestDatabaseAdapterInterfaceCompliance.test_has_required_async_methods: Test that DatabaseAdapter has required asynchronous methods.
│   │       method TestDatabaseAdapterInterfaceCompliance.test_get_all_subjects_returns_list: Test that get_all_subjects returns a list.
│   │       method TestDatabaseAdapterInterfaceCompliance.test_get_random_problem_ids_returns_list: Test that get_random_problem_ids returns a list.
│   │       method TestDatabaseAdapterInterfaceCompliance.test_get_random_problem_ids_returns_requested_count: Test that get_random_problem_ids returns requested number of IDs when possible.
│   │       function setup_method: Setup method for each test.
│   │       function teardown_method: Teardown method for each test.
│   │       function test_implements_idatabase_provider: Test that DatabaseAdapter implements IDatabaseProvider interface.
│   │       function test_has_required_sync_methods: Test that DatabaseAdapter has required synchronous methods.
│   │       function test_has_required_async_methods: Test that DatabaseAdapter has required asynchronous methods.
│   │       function test_get_all_subjects_returns_list: Test that get_all_subjects returns a list.
│   │       function test_get_random_problem_ids_returns_list: Test that get_random_problem_ids returns a list.
│   │       function test_get_random_problem_ids_returns_requested_count: Test that get_random_problem_ids returns requested number of IDs when possible.
│   ├── utils/
│   │   └── test_skill_graph.py (814.0 B)
│   ├──  __init__.py (0 B)
│   ├── conftest.py (1.1 KB)
│   │   module __main__: Pytest configuration file.  This file is automatically loaded by pytest and can be used to config...
│   │   function pytest_configure: Configure logging for pytest
│   ├── test_application_repositories.py (8.4 KB)
│   │   module __main__: Unit tests for application repository implementations.  These tests verify that the repository im...
│   │   class TestProblemRepositoryImpl: Test cases for ProblemRepositoryImpl.
│   │   method TestProblemRepositoryImpl.mock_db_adapter: Create a mock database adapter.
│   │   method TestProblemRepositoryImpl.problem_repository: Create a problem repository instance.
│   │   method TestProblemRepositoryImpl.test_save_problem: Test saving a problem domain entity.
│   │   method TestProblemRepositoryImpl.test_get_by_id: Test retrieving a problem by ID.
│   │   method TestProblemRepositoryImpl.test_get_by_subject: Test retrieving problems by subject.
│   │   class TestUserProgressRepositoryImpl: Test cases for UserProgressRepositoryImpl.
│   │   method TestUserProgressRepositoryImpl.mock_db_adapter: Create a mock database adapter.
│   │   method TestUserProgressRepositoryImpl.user_progress_repository: Create a user progress repository instance.
│   │   method TestUserProgressRepositoryImpl.test_save_user_progress: Test saving user progress.
│   │   method TestUserProgressRepositoryImpl.test_get_by_user_and_problem: Test retrieving user progress by user and problem.
│   │   class TestSkillRepositoryImpl: Test cases for SkillRepositoryImpl.
│   │   method TestSkillRepositoryImpl.mock_db_adapter: Create a mock database adapter.
│   │   method TestSkillRepositoryImpl.skill_repository: Create a skill repository instance.
│   │   method TestSkillRepositoryImpl.test_get_by_id: Test retrieving a skill by ID.
│   │   function mock_db_adapter: Create a mock database adapter.
│   │   function problem_repository: Create a problem repository instance.
│   │   function test_save_problem: Test saving a problem domain entity.
│   │   function test_get_by_id: Test retrieving a problem by ID.
│   │   function test_get_by_subject: Test retrieving problems by subject.
│   │   function mock_db_adapter: Create a mock database adapter.
│   │   function user_progress_repository: Create a user progress repository instance.
│   │   function test_save_user_progress: Test saving user progress.
│   │   function test_get_by_user_and_problem: Test retrieving user progress by user and problem.
│   │   function mock_db_adapter: Create a mock database adapter.
│   │   function skill_repository: Create a skill repository instance.
│   │   function test_get_by_id: Test retrieving a skill by ID.
│   ├── test_json_saver.py (5.9 KB)
│   │   class TestJSONSaver: Unit tests for the JSONSaver class.
│   │   method TestJSONSaver.setUp: Set up a temporary directory for test files. This directory will be automatically cleaned up afte...
│   │   method TestJSONSaver.tearDown: Clean up the temporary directory after each test.
│   │   method TestJSONSaver.test_save_dict_data: Test saving a dictionary to a JSON file.
│   │   method TestJSONSaver.test_save_list_data: Test saving a list to a JSON file.
│   │   method TestJSONSaver.test_save_with_cyrillic_characters: Test saving data containing Cyrillic characters.
│   │   method TestJSONSaver.test_save_creates_directories: Test that save creates parent directories if they don't exist.
│   │   method TestJSONSaver.test_save_overwrites_existing_file: Test that save overwrites an existing file.
│   │   method TestJSONSaver.test_save_with_pathlib_path: Test saving data when the path is provided as a pathlib.Path object.
│   │   method TestJSONSaver.test_save_with_string_path: Test saving data when the path is provided as a string.
│   │   method TestJSONSaver.test_save_invalid_data_type: Test that saving non-serializable data raises TypeError.
│   │   method TestJSONSaver.test_save_invalid_path: Test that saving to an invalid path raises OSError (or similar). This can happen if the path poin...
│   │   function setUp: Set up a temporary directory for test files. This directory will be automatically cleaned up afte...
│   │   function tearDown: Clean up the temporary directory after each test.
│   │   function test_save_dict_data: Test saving a dictionary to a JSON file.
│   │   function test_save_list_data: Test saving a list to a JSON file.
│   │   function test_save_with_cyrillic_characters: Test saving data containing Cyrillic characters.
│   │   function test_save_creates_directories: Test that save creates parent directories if they don't exist.
│   │   function test_save_overwrites_existing_file: Test that save overwrites an existing file.
│   │   function test_save_with_pathlib_path: Test saving data when the path is provided as a pathlib.Path object.
│   │   function test_save_with_string_path: Test saving data when the path is provided as a string.
│   │   function test_save_invalid_data_type: Test that saving non-serializable data raises TypeError.
│   │   function test_save_invalid_path: Test that saving to an invalid path raises OSError (or similar). This can happen if the path poin...
│   └── tests_api_answer_api.py (6.5 KB)
│       module __main__: Tests for the answer API endpoints.
│       class TestAnswerAPI: Test suite for the answer API endpoints.
│       method TestAnswerAPI.setUp: Set up test fixtures before each test method.
│       method TestAnswerAPI.test_get_initial_state: Test the GET /initial_state/{page_name} endpoint.
│       method TestAnswerAPI.test_submit_answer_new: Test the POST /submit_answer endpoint when the answer is new.
│       method TestAnswerAPI.test_submit_answer_cached: Test the POST /submit_answer endpoint when the answer is already cached.
│       method TestAnswerAPI.test_save_answer_only: Test the POST /save_answer_only endpoint.
│       function setUp: Set up test fixtures before each test method.
│       function test_get_initial_state: Test the GET /initial_state/{page_name} endpoint.
│       function test_submit_answer_new: Test the POST /submit_answer endpoint when the answer is new.
│       function test_submit_answer_cached: Test the POST /submit_answer endpoint when the answer is already cached.
│       function test_save_answer_only: Test the POST /save_answer_only endpoint.
├── utils/
│   ├── downloader.py (6.0 KB)
│   │   class AssetDownloader: A class to handle downloading assets from web pages. Attributes:     page: A Playwright page obje...
│   │   method AssetDownloader.__init__: Initializes the AssetDownloader with necessary configuration. Args:     page: Playwright page ins...
│   │   method AssetDownloader.download: Downloads an asset from the web and saves it locally. Args:     asset_url: Full URL of the asset ...
│   │   method AssetDownloader._download_with_alternative_method: Альтернативный метод скачивания при проблемах с SSL
│   │   method AssetDownloader.download_bytes: Downloads an asset from the web and returns its content as bytes. Args:     asset_url: Full URL o...
│   │   function __init__: Initializes the AssetDownloader with necessary configuration. Args:     page: Playwright page ins...
│   │   function download: Downloads an asset from the web and saves it locally. Args:     asset_url: Full URL of the asset ...
│   │   function _download_with_alternative_method: Альтернативный метод скачивания при проблемах с SSL
│   │   function download_bytes: Downloads an asset from the web and returns its content as bytes. Args:     asset_url: Full URL o...
│   ├── element_pairer.py (12.3 KB)
│   │   class ElementPairer: A class to pair 'header container' divs with their corresponding 'qblock' divs.  This class provi...
│   │   method ElementPairer.pair: Finds and pairs 'qblock' divs with their corresponding 'header container' divs based on matching ...
│   │   function pair: Finds and pairs 'qblock' divs with their corresponding 'header container' divs based on matching ...
│   ├── fipi_urls.py (471.0 B)
│   │   module __main__: Module containing FIPI website URLs.
│   ├── logging_config.py (3.2 KB)
│   │   module __main__: Configuration for structured logging using structlog.
│   │   function configure_logging: Configure structlog with a predefined format and processors for production.  Args:     level: Log...
│   │   function configure_logging_dev: Configure structlog with console output format for development.
│   │   function get_logger: Get a configured structlog logger instance.  Args:     name: Name of the logger (typically __name...
│   │   function add_trace_id: Add trace ID to the current logging context.  Args:     trace_id: Unique trace identifier
│   │   function clear_trace_id: Clear the current logging context.
│   ├── metadata_extractor.py (4.8 KB)
│   │   module __main__: Module for extracting task-specific metadata from HTML header containers.  This module provides t...
│   │   class MetadataExtractor: A class to extract task-specific metadata (task_id, form_id) from header containers.  This class ...
│   │   method MetadataExtractor.extract: Extracts task-specific metadata from a header container.  Args:     header_container (Tag): The B...
│   │   method MetadataExtractor.extract_metadata_from_header: Extracts metadata from a header container specifically for the BlockProcessorAdapter. This method...
│   │   function extract: Extracts task-specific metadata from a header container.  Args:     header_container (Tag): The B...
│   │   function extract_metadata_from_header: Extracts metadata from a header container specifically for the BlockProcessorAdapter. This method...
│   ├── model_adapter.py (20.4 KB)
│   │   module __main__: Module for safely converting between SQLAlchemy models and domain entities. Provides adapter func...
│   │   function safe_getattr: Safely get an attribute from an object, trying multiple attribute names. Returns the first found ...
│   │   function convert_to_dict: Attempt to convert an object to a dictionary. Returns None if conversion is not possible.
│   │   function domain_to_db_problem: Convert a domain Problem entity or Pydantic Problem model to a SQLAlchemy DBProblem model.  Args:...
│   │   function db_to_domain_problem: Convert a DBProblem SQLAlchemy model to a domain Problem entity.  Args:     db_problem: The datab...
│   │   function pydantic_to_domain_problem: Convert a Pydantic Problem model to a domain Problem entity.  Args:     pydantic_problem: The Pyd...
│   │   function domain_to_pydantic_problem: Convert a domain Problem entity to a Pydantic Problem model.  Args:     domain_problem: The domai...
│   │   function domain_to_db_user_progress: Convert a domain UserProgress entity to a SQLAlchemy DBUserProgress model.  Args:     domain_prog...
│   │   function db_to_domain_user_progress: Convert a DBUserProgress SQLAlchemy model to a domain UserProgress entity.  Args:     db_progress...
│   │   function domain_to_db_skill: Convert a domain Skill entity to a SQLAlchemy DBSkill model.  Args:     domain_skill: The domain ...
│   │   function db_to_domain_skill: Convert a DBSkill SQLAlchemy model to a domain Skill entity.  Args:     db_skill: The database mo...
│   │   function db_problem_to_problem: Convert a DBProblem SQLAlchemy model to a Pydantic Problem model. Handles attribute mismatches sa...
│   ├── problem_storage.py (3.2 KB)
│   │   module __main__: Модуль для сохранения и загрузки задач Problem в формате JSONL.
│   │   class ProblemStorage: Класс для хранения задач Problem в файле формата JSONL.  Attributes:     storage_path (Path): Пут...
│   │   method ProblemStorage.__init__: Инициализирует ProblemStorage с указанным путем к файлу.  Args:     storage_path (Path): Путь к ф...
│   │   method ProblemStorage.save_problem: Сохраняет одну задачу в конец файла JSONL.  Args:     problem (Problem): Объект задачи для сохран...
│   │   method ProblemStorage.save_problems: Сохраняет список задач в конец файла JSONL.  Args:     problems (List[Problem]): Список объектов ...
│   │   method ProblemStorage.load_all_problems: Загружает все задачи из файла JSONL.  Returns:     List[Problem]: Список задач, загруженных из фа...
│   │   method ProblemStorage.get_problem_by_id: Находит задачу по её идентификатору.  Args:     problem_id (str): Уникальный идентификатор задачи...
│   │   function __init__: Инициализирует ProblemStorage с указанным путем к файлу.  Args:     storage_path (Path): Путь к ф...
│   │   function save_problem: Сохраняет одну задачу в конец файла JSONL.  Args:     problem (Problem): Объект задачи для сохран...
│   │   function save_problems: Сохраняет список задач в конец файла JSONL.  Args:     problems (List[Problem]): Список объектов ...
│   │   function load_all_problems: Загружает все задачи из файла JSONL.  Returns:     List[Problem]: Список задач, загруженных из фа...
│   │   function get_problem_by_id: Находит задачу по её идентификатору.  Args:     problem_id (str): Уникальный идентификатор задачи...
│   ├── skill_graph.py (3.7 KB)
│   │   class InMemorySkillGraph: In-memory representation of the skill graph for adaptive learning. Maps tasks to skills, skills t...
│   │   method InMemorySkillGraph.build_from_db_and_specs: Builds the skill graph from database problems and specification files.
│   │   method InMemorySkillGraph.get_codes_for_task: Get the KES/KOS codes for a given task number.  Args:     task_number: The task number to look up...
│   │   method InMemorySkillGraph.get_tasks_by_kes: Get the task IDs associated with a given KES code.  Args:     kes_code: The KES code to look up. ...
│   │   function get_skill_graph_cached: Returns a cached instance of InMemorySkillGraph. Builds it on the first call using the provided d...
│   │   function build_from_db_and_specs: Builds the skill graph from database problems and specification files.
│   │   function get_codes_for_task: Get the KES/KOS codes for a given task number.  Args:     task_number: The task number to look up...
│   │   function get_tasks_by_kes: Get the task IDs associated with a given KES code.  Args:     kes_code: The KES code to look up. ...
│   ├── subject_mapping.py (6.2 KB)
│   │   module __main__: Module for centralized subject name mappings.  This module defines mappings between official Russ...
│   │   function get_alias_from_official_name: Get the short alias for a given official Russian subject name.  Args:     official_name (str): Th...
│   │   function get_subject_key_from_alias: Get the internal subject key for a given short alias.  Args:     alias (str): The short alias for...
│   │   function get_proj_id_for_subject: Get the FIPI proj_id for a given internal subject key.  Args:     subject_key (str): The internal...
│   │   function get_official_name_from_alias: Get the official Russian subject name for a given short alias.  Args:     alias (str): The short ...
│   ├── task_id_utils.py (803.0 B)
│   │   function extract_task_id_and_form_id: Извлекает task_id и form_id из problem_id.  Args:     problem_id: Идентификатор задачи из базы да...
│   ├── telemetry_config.py (1.7 KB)
│   │   module __main__: Configuration for OpenTelemetry tracing.
│   │   function configure_telemetry: Configure OpenTelemetry tracing for the application.  Args:     service_name: Name of the service...
│   │   function instrument_app: Instrument the FastAPI app with OpenTelemetry.  Args:     app: FastAPI application instance
│   └── vector_indexer.py (5.2 KB)
│       module __main__: Module for indexing Problem instances from the database into a Qdrant vector store.  This module ...
│       class QdrantProblemIndexer: A class to index Problems from a IDatabaseProvider into a Qdrant collection.  This indexer fetche...
│       method QdrantProblemIndexer.__init__: Initializes the indexer with database manager, Qdrant client, and collection name.  Args:     db_...
│       method QdrantProblemIndexer.index_problems: Indexes all problems from the database into the Qdrant collection.  Fetches problems, generates e...
│       function __init__: Initializes the indexer with database manager, Qdrant client, and collection name.  Args:     db_...
│       function index_problems: Indexes all problems from the database into the Qdrant collection.  Fetches problems, generates e...
├── __init__.py (0 B)
├── config.py (1.1 KB)
│   module __main__: Application configuration settings.
├── generate_tree.py (21.6 KB)
│   module __main__: Generates a text representation of the directory structure, focusing on specific file types.  Thi...
│   function get_file_size: Gets the size of a file in bytes.  Args:     filepath (Path): Path to the file.      Returns:    ...
│   function format_file_size: Formats file size into a human-readable string.  Args:     size_bytes (int): Size in bytes.      ...
│   function read_gitignore: Reads a .gitignore file and returns a list of patterns.  Args:     path (Path): The path object r...
│   function parse_gitignore_patterns: Parses .gitignore patterns into include and exclude lists. Patterns starting with ! are include p...
│   function is_ignored: Checks if a given name (file or directory) matches .gitignore patterns.  This function implements...
│   function extract_all_docstrings: Extracts docstrings from a Python file with their associated entities.  Args:     filepath (Path)...
│   function read_file_content: Reads the content of a file and returns it as a string.  Args:     filepath (Path): Path to the f...
│   function generate_structure: Recursively generates the directory structure string, respecting .gitignore.  Args:     start_pat...
│   function main: Main function to handle command-line arguments and initiate structure generation.
├── main.py (921.0 B)
│   module __main__: Main entry point for the FIPI Parser API application.  This script initializes and runs the FastA...
│   function root: Root endpoint for the API.
│   function health_check: Health check endpoint.
├── package-lock.json (82.0 B)
├── package.json (119.0 B)
└── run.py (1.0 KB)
    module __main__: Unified entry point for the FIPI API.  This module serves as the main application factory for the...
